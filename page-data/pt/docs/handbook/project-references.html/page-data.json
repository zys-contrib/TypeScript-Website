{"componentChunkName":"component---src-templates-documentation-tsx","path":"/pt/docs/handbook/project-references.html","result":{"data":{"markdownRemark":{"id":"e6328eee-65ff-5cc2-ac07-dcd8919308d2","excerpt":"Referências de projeto são uma nova funcionalidade no Typescript 3.0 que permitem que você estruture seus programas Typescript em peças menores. Fazendo isso…","html":"<p>Referências de projeto são uma nova funcionalidade no Typescript 3.0 que permitem que você estruture seus programas Typescript em peças menores.</p>\n<p>Fazendo isso, você pode melhorar muito tempos de compilação, garantir separação lógica entre componentes e organizar seu código de melhores maneiras.</p>\n<p>Nós também estamos introduzindo um novo modo para o <code>tsc</code>, o sinalizador <code>--buld</code>, que funciona juntamente com as referências de projeto para habilitar compilações Typescript mais rápidas.</p>\n<h2 id=\"um-projeto-exemplo\" style=\"position:relative;\"><a href=\"#um-projeto-exemplo\" aria-label=\"um projeto exemplo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Um Projeto Exemplo</h2>\n<p>Vamos olhar para um programa bastante normal e ver como referências de projeto podem nos ajudar a organizá-lo melhor.\nImagine que você tem um projeto com dois módulos, <code>converter</code> e <code>units</code>, e um teste correspondente para cada um deles:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">shell</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">/src/converter.ts</span></div><div class='line'><span style=\"color: #000000\">/src/units.ts</span></div><div class='line'><span style=\"color: #000000\">/test/converter-tests.ts</span></div><div class='line'><span style=\"color: #000000\">/test/units-tests.ts</span></div><div class='line'><span style=\"color: #000000\">/tsconfig.json</span></div></code></div></pre>\n<p>Os arquivos de teste importam os arquivos de implementação e fazem alguns testes:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// converter-tests.ts</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">*</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">converter</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../converter\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #001080\">assert</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">areEqual</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">converter</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">celsiusToFahrenheit</span><span style=\"color: #000000\">(</span><span style=\"color: #098658\">0</span><span style=\"color: #000000\">), </span><span style=\"color: #098658\">32</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p>Previamente, essa estrutura era um pouco estranha de se trabalhar se você usasse apenas um arquivo tsconfig:</p>\n<ul>\n<li>Era possível que os arquivos de implementação importassem os arquivos de teste</li>\n<li>Não era possível compilar <code>test</code> e <code>src</code> ao mesmo tempo sem que <code>src</code> aparecesse na pasta de saída, o que você provavelmente não gostaria que acontecesse</li>\n<li>Mudar apenas os arquivos de implementação exigiam que os testes passassem novamente por <em>checagem de tipo</em> mesmo que isso não causasse novos erros</li>\n<li>Mudar apenas os testes exigia a checagem de tipo novamente na implementação, mesmo que nada tivesse mudado</li>\n</ul>\n<p>Você poderia usar múltiplos arquivos tsconfig para resolver <em>alguns</em> desses problemas, mas novos apareceriam:</p>\n<ul>\n<li>Não há checagem atualizada embutida, então você acaba sempre rodando <code>tsc</code> duas vezes</li>\n<li>Invocar <code>tsc</code> duas vezes implicaria em mais sobrecarga no tempo de inicialização</li>\n<li><code>tsc -w</code> não pode ser executado em múltiplos arquivos de configuração de uma vez</li>\n</ul>\n<p>Referências de projeto podem resolver todos esses problemas e mais.</p>\n<h2 id=\"o-que-é-uma-referência-de-projeto\" style=\"position:relative;\"><a href=\"#o-que-%C3%A9-uma-refer%C3%AAncia-de-projeto\" aria-label=\"o que é uma referência de projeto permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O que é uma Referência de Projeto?</h2>\n<p>Arquivos <code>tsconfig.json</code> tem uma nova propriedade de alto nível, <code>references</code>. É um array de objetos que especifica projetos para referência:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\" tsconfig=\"true\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #A31515\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// O normal</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #A31515\">\"references\"</span><span style=\"color: #000000\">: [</span></div><div class='line'><span style=\"color: #000000\">        { </span><span style=\"color: #A31515\">\"path\"</span><span style=\"color: #001080\">:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../src\"</span><span style=\"color: #000000\"> }</span></div><div class='line'><span style=\"color: #000000\">    ]</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>A propriedade <code>path</code> de cada referência pode apontar para um diretório contendo um arquivo <code>tsconfig.json</code>, ou para o arquivo de configuração em si (que pode ter qualquer nome).</p>\n<p>Quando você referencia um projeto, novas coisas acontecem:</p>\n<ul>\n<li>Importar módulos de um projeto referenciado irá na verdade carregar seus arquivos de declaração de <em>saída</em> (<code>.d.ts</code>)</li>\n<li>Se o projeto referenciado produz um <code>outFile</code>, o arquivo de saída <code>.d.ts</code> daquele arquivo será visível neste projeto</li>\n<li>Modo de compilação (veja abaixo) vai automaticamente compilar o projeto referenciado se preciso</li>\n</ul>\n<p>Por meio da separação em múltiplos projetos, você pode melhorar muito a velocidade de checagem de tipo e compilação, reduzir uso de memória usando um editor e melhorar a garantia de grupos lógicos de seu programa.</p>\n<h2 id=\"composite\" style=\"position:relative;\"><a href=\"#composite\" aria-label=\"composite permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>composite</code></h2>\n<p>Projetos referenciados devem ter a nova configuração <code>composite</code> habilitada.\nEssa configuração é necessária para garantir que o Typescript possa rapidamente determinar onde encontrar as saídas do projeto referenciado.\nHabilitar a configuração <code>composite</code> muda algumas coisas:</p>\n<ul>\n<li>A configuração <code>rootDir</code>, se não explicitamente declarada, tem como padrão o diretório onde o arquivo <code>tsconfig</code> está</li>\n<li>Todos os arquivos de implementação tem que ser cobridos por um padrão <code>include</code> ou listados no vetor <code>files</code>. Se essa restrição for violada, o <code>tsc</code> vai te informar de quais arquivos não foram especificados.</li>\n<li><code>declaration</code> tem que estar habilitada</li>\n</ul>\n<h2 id=\"declarationmap\" style=\"position:relative;\"><a href=\"#declarationmap\" aria-label=\"declarationmap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>declarationMap</code></h2>\n<p>Nós também adicionamos suporte para <a href=\"https://github.com/Microsoft/TypeScript/issues/14479\">mapas de declaração de fontes</a>.\nSe você habilitar <code>--declarationMap</code>, você será capaz de usar funcionalidades de editores tais como “Ir para definição” e Renomear para transparentemente navegar e editar código entre projetos em editores que são suportados.</p>\n<h2 id=\"prepend-com-outfile\" style=\"position:relative;\"><a href=\"#prepend-com-outfile\" aria-label=\"prepend com outfile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>prepend</code> com <code>outFile</code></h2>\n<p>Você também pode habilitar a prefixação de saídas de uma dependência usando a opção <code>prepend</code> em uma referência:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">   </span><span style=\"color: #A31515\">\"references\"</span><span style=\"color: #000000\">: [</span></div><div class='line'><span style=\"color: #000000\">       { </span><span style=\"color: #A31515\">\"path\"</span><span style=\"color: #001080\">:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../utils\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"prepend\"</span><span style=\"color: #001080\">:</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\"> }</span></div><div class='line'><span style=\"color: #000000\">   ]</span></div></code></div></pre>\n<p>Prefixar um projeto vai incluir a saída dele acima da saída do projeto atual.\nA opção funciona tanto para arquivos <code>.js</code> como para arquivos <code>.d.ts</code>, e arquivos de mapa de fontes também serão emitidos corretamente.</p>\n<p><code>tsc</code> vai usar apenas arquivos existentes no disco para realizar esse processo, então é possível criar um projeto onde o arquivo de saída correto não pode ser gerado porque a saída de outro projeto estaria presente mais que uma vez no arquivo resultante.\nPor exemplo:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">txt</div><div class='code-container'><code><div class='line'><span style=\"color: undefined\">   A\n  ^ ^\n /   \\\nB     C\n ^   ^\n  \\ /\n   D</span></div></code></div></pre>\n<p>É importante nessa situação que não seja realizada a prefixação em cada referência, porque você vai acabar tendo duas cópias de <code>A</code> na saída de <code>D</code> - isso pode levar a resultados inesperados.</p>\n<h2 id=\"ressalvas-para-referências-de-projetos\" style=\"position:relative;\"><a href=\"#ressalvas-para-refer%C3%AAncias-de-projetos\" aria-label=\"ressalvas para referências de projetos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ressalvas para Referências de Projetos</h2>\n<p>Referências de projeto têm algumas desvantagens que você deve conhecer.</p>\n<p>Pelo fato de projetos dependentes fazerem uso dos arquivos <code>.d.ts</code> que são construídos a partir de suas dependências, você terá que checar algumas saídas de compilações <em>ou</em> compilar um projeto depois de clonar antes de poder navegar no projeto em um editor sem ter que ver alguns falsos erros.\nEstamos trabalhando num processo de geração de .d.ts nos bastidores que será capaz de mitigar isso, mas no momento recomendamos informar desenvolvedores que eles devem compilar logo depois de clonar.</p>\n<p>Adicionalmente, para preservar compatibilidade com os fluxos de trabalho existentes, <code>tsc</code> não vai compilar dependências automaticamente se não for invocado com a opção <code>--build</code>.\nVamos aprender mais sobre a opção <code>--build</code>.</p>\n<h2 id=\"modo-de-compilação-para-typescript\" style=\"position:relative;\"><a href=\"#modo-de-compila%C3%A7%C3%A3o-para-typescript\" aria-label=\"modo de compilação para typescript permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Modo de Compilação para TypeScript</h2>\n<p>Uma feature muito esperada eram as compilações incrementais e inteligentes para projetos Typescript.\nNa versão 3.0 você pode usar a opção <code>--build</code> com <code>tsc</code>.\nEssa é uma nova porta de entrada efetiva para <code>tsc</code> que se comporta mais como um orquestrador de compilação do que como um simples compilador.</p>\n<p>Executar <code>tsc --build</code> (<code>tsc -b</code> como atalho) fará o seguinte:</p>\n<ul>\n<li>Encontrar todos os projetos referenciados</li>\n<li>Detectar se estão todos atualizados</li>\n<li>Compilar os projetos desatualizados na ordem correta</li>\n</ul>\n<p>Você pode executar <code>tsc -b</code> com múltiplos caminhos de arquivos de configuração (e.g. <code>tsc -b src test</code>).\nAssim como <code>tsc -p</code>, especificar o nome do arquivo configuração é desnecessário se ele for nomeado <code>tsconfig.json</code>.</p>\n<h2 id=\"tsc--b-commandline\" style=\"position:relative;\"><a href=\"#tsc--b-commandline\" aria-label=\"tsc  b commandline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>tsc -b</code> Commandline</h2>\n<p>Você pode especificar quantos arquivos de configuração quiser:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">shell</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\"> &gt; tsc -b                            </span><span style=\"color: #008000\"># Usa o tsconfig.json no diretório atual</span></div><div class='line'><span style=\"color: #000000\"> &gt; tsc -b src                        </span><span style=\"color: #008000\"># Usa o src/tsconfig.json</span></div><div class='line'><span style=\"color: #000000\"> &gt; tsc -b foo/prd.tsconfig.json bar  </span><span style=\"color: #008000\"># Usa o foo/prd.tsconfig.json e bar/tsconfig.json</span></div></code></div></pre>\n<p>Não se preocupe quando a ordem dos arquivos que passar na linha de comando - o <code>tsc</code> vai reordená-los se necessário para que as dependências sejam sempre compiladas primeiro.</p>\n<p>Também há algumas opções que podem ser enviadas para <code>tsc -b</code></p>\n<ul>\n<li><code>--verbose</code>: Imprime um log verboso para explicar o que está acontecendo (pode ser combinada com qualquer outra opção)</li>\n<li><code>--dry</code>: Mostra o que seria feito mas não compila nada de fato</li>\n<li><code>--clean</code>: Deleta as saídas dos projetos especificados (pode ser combinada com <code>--dry</code>)</li>\n<li><code>--force</code>: Age como se todos os projetos estivessem desatualizados</li>\n<li><code>--watch</code>: Mobo de observação (não pode ser combinado com qualquer opção exceto <code>--verbose</code>)</li>\n</ul>\n<h2 id=\"ressalvas\" style=\"position:relative;\"><a href=\"#ressalvas\" aria-label=\"ressalvas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ressalvas</h2>\n<p>Normalmente <code>tsc</code> produzirá saídas (<code>.js</code> e <code>.d.ts</code>) na presença de erros de sintaxe ou de tipo, exceto que <code>noEmitOnError</code> esteja habilitada.\nFazer isso em um sistema de compilação incremental seria bem ruim - se um dos seus projetos desatualizados tivesse um novo erro, você só veria ele <em>uma vez</em> pois em uma compilação subsequente, a compilação deste projeto seria pulada, pois o projeto agora está atualizado.\nPor essa razão, <code>tsc -b</code> age efetivamente como se <code>noEmitOnError</code> estivesse habilitada para todos os projetos.</p>\n<p>Se você checar qualquer saída de compilação (<code>.js</code>, <code>.d.ts</code>, <code>.d.ts.map</code>, etc.), você talvez precise executar uma compilaçao com <code>--force</code> antes de certas operações de controle de código dependendo se sua ferramenta de controle de código preserva os timestamps entre a cópia local e a cópia remota.</p>\n<h2 id=\"msbuild\" style=\"position:relative;\"><a href=\"#msbuild\" aria-label=\"msbuild permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MSBuild</h2>\n<p>Se você tem um projeto msbuild, você pode habilitar o modo de compilação adicionando</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">xml</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #800000\">&lt;TypeScriptBuildMode&gt;</span><span style=\"color: #000000\">true</span><span style=\"color: #800000\">&lt;/TypeScriptBuildMode&gt;</span></div></code></div></pre>\n<p>Ao seu arquivo proj. Isso vai habilitar compilação incremental e limpeza automáticas.</p>\n<p>Note que como com <code>tsconfig.json</code>/<code>-p</code>, propriedades de projetos Typescript existentes não serão respeitados - todas as configurações devem ser gerenciadas usando seu arquivo tsconfig.</p>\n<p>Alguns times configuraram fluxos de trabalho baseados em msbuild onde os arquivos tsconfig tem a mesma ordenação gráfica <em>implícita</em> que os projetos gerenciados com que que estão associados.\nSe a sua solução se parece com isso, você pode continuar usando <code>msbuild</code> com <code>tsc -p</code> junto com as referências de projeto; eles são completamente interoperáveis.</p>\n<h2 id=\"guia\" style=\"position:relative;\"><a href=\"#guia\" aria-label=\"guia permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Guia</h2>\n<h2 id=\"estrutura-geral\" style=\"position:relative;\"><a href=\"#estrutura-geral\" aria-label=\"estrutura geral permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Estrutura Geral</h2>\n<p>Com mais arquivos <code>tsconfig.json</code>, você usualmente vai querer usar <a href=\"/docs/handbook/tsconfig-json.html\">Herança de arquivos de configuração</a> para centralizar as opções de compilação comuns.\nDessa forma você pode mudar uma configuração em apenas um arquivo ao invés de ter que editar múltiplos arquivos.</p>\n<p>Outra boa prática é ter um arquivo <code>tsconfig.json</code> “solução” que simplesmente tem <code>referências</code> aos outros projetos e configura <code>files</code> como um vetor vazio (de outra forma, o arquivo de solução causaria dupla compilação dos arquivos). Note que a partir da 3.0, não é mais considerado um erro ter um vetor <code>files</code> vazio se você tem pelo menos uma <code>reference</code> em um arquivo <code>tsconfig.json</code>.</p>\n<p>Isso apresenta um único ponto de entrada; e.g. no repositório do Typescript nós simplesmente rodamos <code>tsc -b src</code> para compilar todos os pontos finais porque listamos todos os subprojetos no <code>src/tsconfig.json</code></p>\n<p>Você pode ver esses padrões no repositório do Typescript - veja <code>src/tsconfig_base.json</code>, <code>src/tsconfig.json</code>, e <code>src/tsc/tsconfig.json</code> como exemplos chave.</p>\n<h2 id=\"estrutura-para-módulos-relativos\" style=\"position:relative;\"><a href=\"#estrutura-para-m%C3%B3dulos-relativos\" aria-label=\"estrutura para módulos relativos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Estrutura para módulos relativos</h2>\n<p>Em geral, não é necssário muito para fazer a transição um repositório usando módulos relativos.\nSimplesmente coloque um arquivo <code>tsconfig.json</code> em cada subdiretório de uma determinada pasta pai e adicione <code>referências</code> para esses arquivos de configuração para corresponder a camada pretendida do programa.\nVocê vai precisar configurar a opçao <code>outDir</code> para uma subpasta explícita da pasta de saída, ou configurar <code>rootDir</code> para a pasta raiz de todas as pastas do projeto.</p>\n<h2 id=\"estrutura-para-outfiles\" style=\"position:relative;\"><a href=\"#estrutura-para-outfiles\" aria-label=\"estrutura para outfiles permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Estrutura para outFiles</h2>\n<p>A camada para compilações usando <code>outFile</code> é mais flexível porque os caminhos relativos não importam tanto.\nUma coisa para se lembrar é que você geralmente vai querer não usar <code>prepend</code> até o “último” projeto - isso vai melhorar o tempo de compilação e reduzir a quantidade de E/S necessária em cada build realizada.\nO próprio repositório do Typescript é uma ótima referência aqui - nós temos alguns projetos “bibliotecas” e alguns projetos “pontos finais”; projetos “pontos finais” são mantidos tão pequenos quanto possível e importam apenas as bibliotecas que precisam.</p>\n<!--\n## Structuring for monorepos\n\nTODO: Experiment more and figure this out. Rush and Lerna seem to have different models that imply different things on our end\n-->","headings":[{"value":"Um Projeto Exemplo","depth":2},{"value":"O que é uma Referência de Projeto?","depth":2},{"value":"composite","depth":2},{"value":"declarationMap","depth":2},{"value":"prepend com outFile","depth":2},{"value":"Ressalvas para Referências de Projetos","depth":2},{"value":"Modo de Compilação para TypeScript","depth":2},{"value":"tsc -b Commandline","depth":2},{"value":"Ressalvas","depth":2},{"value":"MSBuild","depth":2},{"value":"Guia","depth":2},{"value":"Estrutura Geral","depth":2},{"value":"Estrutura para módulos relativos","depth":2},{"value":"Estrutura para outFiles","depth":2}],"frontmatter":{"permalink":"/pt/docs/handbook/project-references.html","title":"Referência de Projeto","disable_toc":null,"handbook":null,"oneline":"Como dividir um projeto Typescript grande","preamble":null,"deprecated_by":null,"deprecation_redirects":null,"experimental":null}},"prev":null,"next":null},"pageContext":{"id":"8-referência-de-projeto","slug":"/pt/docs/handbook/project-references.html","repoPath":"/packages/documentation/copy/pt/project-config/Project References.md","lang":"pt","modifiedTime":"2024-10-21T12:35:09.569Z"}},"staticQueryHashes":[]}