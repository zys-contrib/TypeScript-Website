{"componentChunkName":"component---src-templates-documentation-tsx","path":"/docs/handbook/release-notes/typescript-5-0.html","result":{"data":{"markdownRemark":{"id":"8a273b6a-db42-5a8c-af16-77bcdaec457a","excerpt":"Decorators Decorators are an upcoming ECMAScript feature that allow us to customize classes and their members in a reusable way. Let’s consider the following…","html":"<h2 id=\"decorators\" style=\"position:relative;\"><a href=\"#decorators\" aria-label=\"decorators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Decorators</h2>\n<p>Decorators are an upcoming ECMAScript feature that allow us to customize classes and their members in a reusable way.</p>\n<p>Let’s consider the following code:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">p</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">Person</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Ray\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #001080\">p</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">();</span></div></code></div></pre>\n<p><code>greet</code> is pretty simple here, but let’s imagine it’s something way more complicated - maybe it does some async logic, it’s recursive, it has side effects, etc.\nRegardless of what kind of ball-of-mud you’re imagining, let’s say you throw in some <code>console.log</code> calls to help debug <code>greet</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"LOG: Entering method.\"</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"LOG: Exiting method.\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This pattern is fairly common.\nIt sure would be nice if there was a way we could do this for every method!</p>\n<p>This is where decorators come in.\nWe can write a function called <code>loggedMethod</code> that looks like the following:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">loggedMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">_context</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">) {</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">replacementMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">[]) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"LOG: Entering method.\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">result</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">call</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"LOG: Exiting method.\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">result</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">replacementMethod</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>“What’s the deal with all of these <code>any</code>s?\nWhat is this, <code>any</code>Script!?”</p>\n<p>Just be patient - we’re keeping things simple for now so that we can focus on what this function is doing.\nNotice that <code>loggedMethod</code> takes the original method (<code>originalMethod</code>) and returns a function that</p>\n<ol>\n<li>logs an “Entering…” message</li>\n<li>passes along <code>this</code> and all of its arguments to the original method</li>\n<li>logs an “Exiting…” message, and</li>\n<li>returns whatever the original method returned.</li>\n</ol>\n<p>Now we can use <code>loggedMethod</code> to <em>decorate</em> the method <code>greet</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    @</span><span style=\"color: #001080\">loggedMethod</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">p</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">Person</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Ray\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #001080\">p</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">();</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Output:</span></div><div class='line'><span style=\"color: #008000\">//</span></div><div class='line'><span style=\"color: #008000\">//   LOG: Entering method.</span></div><div class='line'><span style=\"color: #008000\">//   Hello, my name is Ray.</span></div><div class='line'><span style=\"color: #008000\">//   LOG: Exiting method.</span></div></code></div></pre>\n<p>We just used <code>loggedMethod</code> as a decorator above <code>greet</code> - and notice that we wrote it as <code>@loggedMethod</code>.\nWhen we did that, it got called with the method <em>target</em> and a <em>context object</em>.\nBecause <code>loggedMethod</code> returned a new function, that function replaced the original definition of <code>greet</code>.</p>\n<p>We didn’t mention it yet, but <code>loggedMethod</code> was defined with a second parameter.\nIt’s called a “context object”, and it has some useful information about how the decorated method was declared - like whether it was a <code>#private</code> member, or <code>static</code>, or what the name of the method was.\nLet’s rewrite <code>loggedMethod</code> to take advantage of that and print out the name of the method that was decorated.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">loggedMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">ClassMethodDecoratorContext</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">methodName</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">String</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">replacementMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">[]) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`LOG: Entering method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">result</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">call</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`LOG: Exiting method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">result</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">replacementMethod</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>We’re now using the context parameter - and that it’s the first thing in <code>loggedMethod</code> that has a type stricter than <code>any</code> and <code>any[]</code>.\nTypeScript provides a type called <code>ClassMethodDecoratorContext</code> that models the context object that method decorators take.</p>\n<p>Apart from metadata, the context object for methods also has a useful function called <code>addInitializer</code>.\nIt’s a way to hook into the beginning of the constructor (or the initialization of the class itself if we’re working with <code>static</code>s).</p>\n<p>As an example - in JavaScript, it’s common to write something like the following pattern:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">greet</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">greet</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">bind</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Alternatively, <code>greet</code> might be declared as a property initialized to an arrow function.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\"> = () </span><span style=\"color: #0000FF\">=&gt;</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    };</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This code is written to ensure that <code>this</code> isn’t re-bound if <code>greet</code> is called as a stand-alone function or passed as a callback.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">greet</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">Person</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Ray\"</span><span style=\"color: #000000\">).</span><span style=\"color: #001080\">greet</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// We don't want this to fail!</span></div><div class='line'><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">();</span></div></code></div></pre>\n<p>We can write a decorator that uses <code>addInitializer</code> to call <code>bind</code> in the constructor for us.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">bound</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">ClassMethodDecoratorContext</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">methodName</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">private</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">throw</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Error</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`'bound' cannot decorate private properties like </span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #000000FF\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">addInitializer</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> () {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">[</span><span style=\"color: #001080\">methodName</span><span style=\"color: #000000\">] = </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">[</span><span style=\"color: #001080\">methodName</span><span style=\"color: #000000\">].</span><span style=\"color: #795E26\">bind</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    });</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p><code>bound</code> isn’t returning anything - so when it decorates a method, it leaves the original alone.\nInstead, it will add logic before any other fields are initialized.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    @</span><span style=\"color: #001080\">bound</span></div><div class='line'><span style=\"color: #000000\">    @</span><span style=\"color: #001080\">loggedMethod</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">p</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">Person</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Ray\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">greet</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">p</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">greet</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Works!</span></div><div class='line'><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">();</span></div></code></div></pre>\n<p>Notice that we stacked two decorators - <code>@bound</code> and <code>@loggedMethod</code>.\nThese decorations run in “reverse order”.\nThat is, <code>@loggedMethod</code> decorates the original method <code>greet</code>, and <code>@bound</code> decorates the result of <code>@loggedMethod</code>.\nIn this example, it doesn’t matter - but it could if your decorators have side-effects or expect a certain order.</p>\n<p>Also worth noting - if you’d prefer stylistically, you can put these decorators on the same line.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">    @</span><span style=\"color: #001080\">bound</span><span style=\"color: #000000\"> @</span><span style=\"color: #001080\">loggedMethod</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div></code></div></pre>\n<p>Something that might not be obvious is that we can even make functions that <em>return</em> decorator functions.\nThat makes it possible to customize the final decorator just a little.\nIf we wanted, we could have made <code>loggedMethod</code> return a decorator and customize how it logs its messages.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">loggedMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">headMessage</span><span style=\"color: #000000\"> = </span><span style=\"color: #A31515\">\"LOG:\"</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">actualDecorator</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">ClassMethodDecoratorContext</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">methodName</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">String</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">replacementMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">[]) {</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">headMessage</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\"> Entering method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">result</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">originalMethod</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">call</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">headMessage</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\"> Exiting method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">result</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">        }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">replacementMethod</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>If we did that, we’d have to call <code>loggedMethod</code> before using it as a decorator.\nWe could then pass in any string as the prefix for messages that get logged to the console.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    @</span><span style=\"color: #795E26\">loggedMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"⚠️\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`Hello, my name is </span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000FF\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">.`</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">p</span><span style=\"color: #000000\"> = </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">Person</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Ray\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #001080\">p</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">greet</span><span style=\"color: #000000\">();</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Output:</span></div><div class='line'><span style=\"color: #008000\">//</span></div><div class='line'><span style=\"color: #008000\">//   ⚠️ Entering method 'greet'.</span></div><div class='line'><span style=\"color: #008000\">//   Hello, my name is Ray.</span></div><div class='line'><span style=\"color: #008000\">//   ⚠️ Exiting method 'greet'.</span></div></code></div></pre>\n<p>Decorators can be used on more than just methods!\nThey can be used on properties/fields, getters, setters, and auto-accessors.\nEven classes themselves can be decorated for things like subclassing and registration.</p>\n<p>To learn more about decorators in-depth, you can read up on <a href=\"https://2ality.com/2022/10/javascript-decorators.html\">Axel Rauschmayer’s extensive summary</a>.</p>\n<p>For more information about the changes involved, you can <a href=\"https://github.com/microsoft/TypeScript/pull/50820\">view the original pull request</a>.</p>\n<h3 id=\"differences-with-experimental-legacy-decorators\" style=\"position:relative;\"><a href=\"#differences-with-experimental-legacy-decorators\" aria-label=\"differences with experimental legacy decorators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Differences with Experimental Legacy Decorators</h3>\n<p>If you’ve been using TypeScript for a while, you might be aware of the fact that it’s had support for “experimental” decorators for years.\nWhile these experimental decorators have been incredibly useful, they modeled a much older version of the decorators proposal, and always required an opt-in compiler flag called <code>--experimentalDecorators</code>.\nAny attempt to use decorators in TypeScript without this flag used to prompt an error message.</p>\n<p><code>--experimentalDecorators</code> will continue to exist for the foreseeable future;\nhowever, without the flag, decorators will now be valid syntax for all new code.\nOutside of <code>--experimentalDecorators</code>, they will be type-checked and emitted differently.\nThe type-checking rules and emit are sufficiently different that while decorators <em>can</em> be written to support both the old and new decorators behavior, any existing decorator functions are not likely to do so.</p>\n<p>This new decorators proposal is not compatible with <code>--emitDecoratorMetadata</code>, and it does not allow decorating parameters.\nFuture ECMAScript proposals may be able to help bridge that gap.</p>\n<p>On a final note: in addition to allowing decorators to be placed before the <code>export</code> keyword, the proposal for decorators now provides the option of placing decorators after <code>export</code> or <code>export default</code>.\nThe only exception is that mixing the two styles is not allowed.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// ✅ allowed</span></div><div class='line'><span style=\"color: #000000\">@</span><span style=\"color: #001080\">register</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">default</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Foo</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// ✅ also allowed</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">default</span><span style=\"color: #000000\"> @</span><span style=\"color: #001080\">register</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Bar</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// ❌ error - before *and* after is not allowed</span></div><div class='line'><span style=\"color: #000000\">@</span><span style=\"color: #001080\">before</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">export</span><span style=\"color: #000000\"> @</span><span style=\"color: #001080\">after</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Bar</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<h3 id=\"writing-well-typed-decorators\" style=\"position:relative;\"><a href=\"#writing-well-typed-decorators\" aria-label=\"writing well typed decorators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Writing Well-Typed Decorators</h3>\n<p>The <code>loggedMethod</code> and <code>bound</code> decorator examples above are intentionally simple and omit lots of details about types.</p>\n<p>Typing decorators can be fairly complex.\nFor example, a well-typed version of <code>loggedMethod</code> from above might look something like this:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">loggedMethod</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">This</span><span style=\"color: #000000\">, </span><span style=\"color: #1C6277\">Args</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">[], </span><span style=\"color: #1C6277\">Return</span><span style=\"color: #000000\">&gt;(</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">target</span><span style=\"color: #000000\">: (</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">This</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Args</span><span style=\"color: #000000\">) </span><span style=\"color: #0000FF\">=&gt;</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Return</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">ClassMethodDecoratorContext</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">This</span><span style=\"color: #000000\">, (</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">This</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Args</span><span style=\"color: #000000\">) </span><span style=\"color: #0000FF\">=&gt;</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Return</span><span style=\"color: #000000\">&gt;</span></div><div class='line'><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">methodName</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">String</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">context</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">replacementMethod</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">This</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Args</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">Return</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`LOG: Entering method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">result</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">target</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">call</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">this</span><span style=\"color: #000000\">, ...</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">`LOG: Exiting method '</span><span style=\"color: #0000FF\">${</span><span style=\"color: #001080\">methodName</span><span style=\"color: #0000FF\">}</span><span style=\"color: #A31515\">'.`</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">result</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">replacementMethod</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>We had to separately model out the type of <code>this</code>, the parameters, and the return type of the original method, using the type parameters <code>This</code>, <code>Args</code>, and <code>Return</code>.</p>\n<p>Exactly how complex your decorators functions are defined depends on what you want to guarantee.\nJust keep in mind, your decorators will be used more than they’re written, so a well-typed version will usually be preferable - but there’s clearly a trade-off with readability, so try to keep things simple.</p>\n<p>More documentation on writing decorators will be available in the future - but <a href=\"https://2ality.com/2022/10/javascript-decorators.html\">this post</a> should have a good amount of detail for the mechanics of decorators.</p>\n<h2 id=\"const-type-parameters\" style=\"position:relative;\"><a href=\"#const-type-parameters\" aria-label=\"const type parameters permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>const</code> Type Parameters</h2>\n<p>When inferring the type of an object, TypeScript will usually choose a type that’s meant to be general.\nFor example, in this case, the inferred type of <code>names</code> is <code>string[]</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasNames</span><span style=\"color: #000000\"> = { </span><span style=\"color: #001080\">names</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[] };</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasNames</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">arg</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">[</span><span style=\"color: #A31515\">\"names\"</span><span style=\"color: #000000\">] {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">arg</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">names</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Inferred type: string[]</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">names</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">names:</span><span style=\"color: #000000\"> [</span><span style=\"color: #A31515\">\"Alice\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Bob\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Eve\"</span><span style=\"color: #000000\">]});</span></div></code></div></pre>\n<p>Usually the intent of this is to enable mutation down the line.</p>\n<p>However, depending on what exactly <code>getNamesExactly</code> does and how it’s intended to be used, it can often be the case that a more-specific type is desired.</p>\n<p>Up until now, API authors have typically had to recommend adding <code>as const</code> in certain places to achieve the desired inference:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// The type we wanted:</span></div><div class='line'><span style=\"color: #008000\">//    readonly [\"Alice\", \"Bob\", \"Eve\"]</span></div><div class='line'><span style=\"color: #008000\">// The type we got:</span></div><div class='line'><span style=\"color: #008000\">//    string[]</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">names1</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">names:</span><span style=\"color: #000000\"> [</span><span style=\"color: #A31515\">\"Alice\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Bob\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Eve\"</span><span style=\"color: #000000\">]});</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Correctly gets what we wanted:</span></div><div class='line'><span style=\"color: #008000\">//    readonly [\"Alice\", \"Bob\", \"Eve\"]</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">names2</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">names:</span><span style=\"color: #000000\"> [</span><span style=\"color: #A31515\">\"Alice\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Bob\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Eve\"</span><span style=\"color: #000000\">]} </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p>This can be cumbersome and easy to forget.\nIn TypeScript 5.0, you can now add a <code>const</code> modifier to a type parameter declaration to cause <code>const</code>-like inference to be the default:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasNames</span><span style=\"color: #000000\"> = { </span><span style=\"color: #001080\">names</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[] };</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasNames</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">arg</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">[</span><span style=\"color: #A31515\">\"names\"</span><span style=\"color: #000000\">] {</span></div><div class='line'><span style=\"color: #008000\">//                       ^^^^^</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">arg</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">names</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Inferred type: readonly [\"Alice\", \"Bob\", \"Eve\"]</span></div><div class='line'><span style=\"color: #008000\">// Note: Didn't need to write 'as const' here</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">names</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">getNamesExactly</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">names:</span><span style=\"color: #000000\"> [</span><span style=\"color: #A31515\">\"Alice\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Bob\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"Eve\"</span><span style=\"color: #000000\">] });</span></div></code></div></pre>\n<p>Note that the <code>const</code> modifier doesn’t <em>reject</em> mutable values, and doesn’t require immutable constraints.\nUsing a mutable type constraint might give surprising results.\nFor example:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">fnBad</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[]&gt;(</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// 'T' is still 'string[]' since 'readonly [\"a\", \"b\", \"c\"]' is not assignable to 'string[]'</span></div><div class='line'><span style=\"color: #795E26\">fnBad</span><span style=\"color: #000000\">([</span><span style=\"color: #A31515\">\"a\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"b\"</span><span style=\"color: #000000\"> ,</span><span style=\"color: #A31515\">\"c\"</span><span style=\"color: #000000\">]);</span></div></code></div></pre>\n<p>Here, the inferred candidate for <code>T</code> is <code>readonly [\"a\", \"b\", \"c\"]</code>, and a <code>readonly</code> array can’t be used where a mutable one is needed.\nIn this case, inference falls back to the constraint, the array is treated as <code>string[]</code>, and the call still proceeds successfully.</p>\n<p>A better definition of this function should use <code>readonly string[]</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">fnGood</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[]&gt;(</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// T is readonly [\"a\", \"b\", \"c\"]</span></div><div class='line'><span style=\"color: #795E26\">fnGood</span><span style=\"color: #000000\">([</span><span style=\"color: #A31515\">\"a\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"b\"</span><span style=\"color: #000000\"> ,</span><span style=\"color: #A31515\">\"c\"</span><span style=\"color: #000000\">]);</span></div></code></div></pre>\n<p>Similarly, remember to keep in mind that the <code>const</code> modifier only affects inference of object, array and primitive expressions that were written within the call, so arguments which wouldn’t (or couldn’t) be modified with <code>as const</code> won’t see any change in behavior:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">fnGood</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[]&gt;(</span><span style=\"color: #001080\">args</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">arr</span><span style=\"color: #000000\"> = [</span><span style=\"color: #A31515\">\"a\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"b\"</span><span style=\"color: #000000\"> ,</span><span style=\"color: #A31515\">\"c\"</span><span style=\"color: #000000\">];</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// 'T' is still 'string[]'-- the 'const' modifier has no effect here</span></div><div class='line'><span style=\"color: #795E26\">fnGood</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">arr</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p><a href=\"https://github.com/microsoft/TypeScript/pull/51865\">See the pull request</a> and the (<a href=\"https://github.com/microsoft/TypeScript/issues/30680\">first</a> and second <a href=\"https://github.com/microsoft/TypeScript/issues/41114\">second</a>) motivating issues for more details.</p>\n<h2 id=\"supporting-multiple-configuration-files-in-extends\" style=\"position:relative;\"><a href=\"#supporting-multiple-configuration-files-in-extends\" aria-label=\"supporting multiple configuration files in extends permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Supporting Multiple Configuration Files in <code>extends</code></h2>\n<p>When managing multiple projects, it can be helpful to have a “base” configuration file that other <code>tsconfig.json</code> files can extend from.\nThat’s why TypeScript supports an <code>extends</code> field for copying over fields from <code>compilerOptions</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// packages/front-end/src/tsconfig.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"extends\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"../../../tsconfig.base.json\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"outDir\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>However, there are scenarios where you might want to extend from multiple configuration files.\nFor example, imagine using <a href=\"https://github.com/tsconfig/bases\">a TypeScript base configuration file shipped to npm</a>.\nIf you want all your projects to also use the options from the <code>@tsconfig/strictest</code> package on npm, then there’s a simple solution: have <code>tsconfig.base.json</code> extend from <code>@tsconfig/strictest</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// tsconfig.base.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"extends\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"@tsconfig/strictest/tsconfig.json\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This works to a point.\nIf you have any projects that <em>don’t</em> want to use <code>@tsconfig/strictest</code>, they have to either manually disable the options, or create a separate version of <code>tsconfig.base.json</code> that <em>doesn’t</em> extend from <code>@tsconfig/strictest</code>.</p>\n<p>To give some more flexibility here, Typescript 5.0 now allows the <code>extends</code> field to take multiple entries.\nFor example, in this configuration file:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"extends\"</span><span style=\"color: #000000\">: [</span><span style=\"color: #A31515\">\"a\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"b\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"c\"</span><span style=\"color: #000000\">],</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Writing this is kind of like extending <code>c</code> directly, where <code>c</code> extends <code>b</code>, and <code>b</code> extends <code>a</code>.\nIf any fields “conflict”, the latter entry wins.</p>\n<p>So in the following example, both <code>strictNullChecks</code> and <code>noImplicitAny</code> are enabled in the final <code>tsconfig.json</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// tsconfig1.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"strictNullChecks\"</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">true</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// tsconfig2.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"noImplicitAny\"</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">true</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// tsconfig.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"extends\"</span><span style=\"color: #000000\">: [</span><span style=\"color: #A31515\">\"./tsconfig1.json\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"./tsconfig2.json\"</span><span style=\"color: #000000\">],</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"files\"</span><span style=\"color: #000000\">: [</span><span style=\"color: #A31515\">\"./index.ts\"</span><span style=\"color: #000000\">]</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>As another example, we can rewrite our original example in the following way.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// packages/front-end/src/tsconfig.json</span></div><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"extends\"</span><span style=\"color: #000000\">: [</span><span style=\"color: #A31515\">\"@tsconfig/strictest/tsconfig.json\"</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"../../../tsconfig.base.json\"</span><span style=\"color: #000000\">],</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"outDir\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>For more details, <a href=\"https://github.com/microsoft/TypeScript/pull/50403\">read more on the original pull request</a>.</p>\n<!--\n\n## Improved Type Argument Inference\n\nTODO\n\n## Improved `in` Checks Under `--noUncheckedIndexedAccess`\n\nTODO\n\n-->\n<h2 id=\"all-enums-are-union-enums\" style=\"position:relative;\"><a href=\"#all-enums-are-union-enums\" aria-label=\"all enums are union enums permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>All <code>enum</code>s Are Union <code>enum</code>s</h2>\n<p>When TypeScript originally introduced enums, they were nothing more than a set of numeric constants with the same type.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">E</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Foo</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">10</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Bar</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">20</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>The only thing special about <code>E.Foo</code> and <code>E.Bar</code> was that they were assignable to anything expecting the type <code>E</code>.\nOther than that, they were pretty much just <code>number</code>s.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">takeValue</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">e</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">E</span><span style=\"color: #000000\">) {}</span></div><div class='line'></div><div class='line'><span style=\"color: #795E26\">takeValue</span><span style=\"color: #000000\">(</span><span style=\"color: #0070C1\">E</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">Foo</span><span style=\"color: #000000\">); </span><span style=\"color: #008000\">// works</span></div><div class='line'><span style=\"color: #795E26\">takeValue</span><span style=\"color: #000000\">(</span><span style=\"color: #098658\">123</span><span style=\"color: #000000\">); </span><span style=\"color: #008000\">// error!</span></div></code></div></pre>\n<p>It wasn’t until TypeScript 2.0 introduced enum literal types that enums got a bit more special.\nEnum literal types gave each enum member its own type, and turned the enum itself into a <em>union</em> of each member type.\nThey also allowed us to refer to only a subset of the types of an enum, and to narrow away those types.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// Color is like a union of Red | Orange | Yellow | Green | Blue | Violet</span></div><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Color</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Red</span><span style=\"color: #000000\">, </span><span style=\"color: #0070C1\">Orange</span><span style=\"color: #000000\">, </span><span style=\"color: #0070C1\">Yellow</span><span style=\"color: #000000\">, </span><span style=\"color: #0070C1\">Green</span><span style=\"color: #000000\">, </span><span style=\"color: #0070C1\">Blue</span><span style=\"color: #000000\">, </span><span style=\"color: #008000\">/* Indigo, */</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">Violet</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Each enum member has its own type that we can refer to!</span></div><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">PrimaryColor</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #1C6277\">Red</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #1C6277\">Green</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #1C6277\">Blue</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">isPrimaryColor</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">c</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Color</span><span style=\"color: #000000\">): </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">is</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">PrimaryColor</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// Narrowing literal types can catch bugs.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// TypeScript will error here because</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// we'll end up comparing 'Color.Red' to 'Color.Green'.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// We meant to use ||, but accidentally wrote &&.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\"> === </span><span style=\"color: #001080\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">Red</span><span style=\"color: #000000\"> && </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\"> === </span><span style=\"color: #001080\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">Green</span><span style=\"color: #000000\"> && </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\"> === </span><span style=\"color: #001080\">Color</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">Blue</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>One issue with giving each enum member its own type was that those types were in some part associated with the actual value of the member.\nIn some cases it’s not possible to compute that value - for instance, an enum member could be initialized by a function call.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">E</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Blah</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">Math</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">random</span><span style=\"color: #000000\">()</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Whenever TypeScript ran into these issues, it would quietly back out and use the old enum strategy.\nThat meant giving up all the advantages of unions and literal types.</p>\n<p>TypeScript 5.0 manages to make all enums into union enums by creating a unique type for each computed member.\nThat means that all enums can now be narrowed and have their members referenced as types as well.</p>\n<p>For more details on this change, you can <a href=\"https://github.com/microsoft/TypeScript/pull/50528\">read the specifics on GitHub</a>.</p>\n<h2 id=\"--moduleresolution-bundler\" style=\"position:relative;\"><a href=\"#--moduleresolution-bundler\" aria-label=\"  moduleresolution bundler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>--moduleResolution bundler</code></h2>\n<p>TypeScript 4.7 introduced the <code>node16</code> and <code>nodenext</code> options for its <code>--module</code> and <code>--moduleResolution</code> settings.\nThe intent of these options was to better model the precise lookup rules for ECMAScript modules in Node.js;\nhowever, this mode has many restrictions that other tools don’t really enforce.</p>\n<p>For example, in an ECMAScript module in Node.js, any relative import needs to include a file extension.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// entry.mjs</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">*</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">utils</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./utils\"</span><span style=\"color: #000000\">;     </span><span style=\"color: #008000\">// ❌ wrong - we need to include the file extension.</span></div><div class='line'></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">*</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">utils</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./utils.mjs\"</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// ✅ works</span></div></code></div></pre>\n<p>There are certain reasons for this in Node.js and the browser - it makes file lookups faster and works better for naive file servers.\nBut for many developers using tools like bundlers, the <code>node16</code>/<code>nodenext</code> settings were cumbersome because bundlers don’t have most of these restrictions.\nIn some ways, the <code>node</code> resolution mode was better for anyone using a bundler.</p>\n<p>But in some ways, the original <code>node</code> resolution mode was already out of date.\nMost modern bundlers use a fusion of the ECMAScript module and CommonJS lookup rules in Node.js.\nFor example, extensionless imports work just fine just like in CommonJS, but when looking through the <a href=\"https://nodejs.org/api/packages.html#nested-conditions\"><code>export</code> conditions</a> of a package, they’ll prefer an <code>import</code> condition just like in an ECMAScript file.</p>\n<p>To model how bundlers work, TypeScript now introduces a new strategy: <code>--moduleResolution bundler</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"target\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"esnext\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"moduleResolution\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"bundler\"</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>If you are using a modern bundler like Vite, esbuild, swc, Webpack, Parcel, and others that implement a hybrid lookup strategy, the new <code>bundler</code> option should be a good fit for you.</p>\n<p>On the other hand, if you’re writing a library that’s meant to be published on npm, using the <code>bundler</code> option can hide compatibility issues that may arise for your users who <em>aren’t</em> using a bundler.\nSo in these cases, using the <code>node16</code> or <code>nodenext</code> resolution options is likely to be a better path.</p>\n<p>To read more on <code>--moduleResolution bundler</code>, <a href=\"https://github.com/microsoft/TypeScript/pull/51669\">take a look at the implementing pull request</a>.</p>\n<h2 id=\"resolution-customization-flags\" style=\"position:relative;\"><a href=\"#resolution-customization-flags\" aria-label=\"resolution customization flags permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resolution Customization Flags</h2>\n<p>JavaScript tooling may now model “hybrid” resolution rules, like in the <code>bundler</code> mode we described above.\nBecause tools may differ in their support slightly, TypeScript 5.0 provides ways to enable or disable a few features that may or may not work with your configuration.</p>\n<h3 id=\"allowimportingtsextensions\" style=\"position:relative;\"><a href=\"#allowimportingtsextensions\" aria-label=\"allowimportingtsextensions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>allowImportingTsExtensions</code></h3>\n<p><code>--allowImportingTsExtensions</code> allows TypeScript files to import each other with a TypeScript-specific extension like <code>.ts</code>, <code>.mts</code>, or <code>.tsx</code>.</p>\n<p>This flag is only allowed when <code>--noEmit</code> or <code>--emitDeclarationOnly</code> is enabled, since these import paths would not be resolvable at runtime in JavaScript output files.\nThe expectation here is that your resolver (e.g. your bundler, a runtime, or some other tool) is going to make these imports between <code>.ts</code> files work.</p>\n<h3 id=\"resolvepackagejsonexports\" style=\"position:relative;\"><a href=\"#resolvepackagejsonexports\" aria-label=\"resolvepackagejsonexports permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>resolvePackageJsonExports</code></h3>\n<p><code>--resolvePackageJsonExports</code> forces TypeScript to consult <a href=\"https://nodejs.org/api/packages.html#exports\">the <code>exports</code> field of <code>package.json</code> files</a> if it ever reads from a package in <code>node_modules</code>.</p>\n<p>This option defaults to <code>true</code> under the <code>node16</code>, <code>nodenext</code>, and <code>bundler</code> options for <code>--moduleResolution</code>.</p>\n<h3 id=\"resolvepackagejsonimports\" style=\"position:relative;\"><a href=\"#resolvepackagejsonimports\" aria-label=\"resolvepackagejsonimports permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>resolvePackageJsonImports</code></h3>\n<p><code>--resolvePackageJsonImports</code> forces TypeScript to consult <a href=\"https://nodejs.org/api/packages.html#imports\">the <code>imports</code> field of <code>package.json</code> files</a> when performing a lookup that starts with <code>#</code> from a file whose ancestor directory contains a <code>package.json</code>.</p>\n<p>This option defaults to <code>true</code> under the <code>node16</code>, <code>nodenext</code>, and <code>bundler</code> options for <code>--moduleResolution</code>.</p>\n<h3 id=\"allowarbitraryextensions\" style=\"position:relative;\"><a href=\"#allowarbitraryextensions\" aria-label=\"allowarbitraryextensions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>allowArbitraryExtensions</code></h3>\n<p>In TypeScript 5.0, when an import path ends in an extension that isn’t a known JavaScript or TypeScript file extension, the compiler will look for a declaration file for that path in the form of <code>{file basename}.d.{extension}.ts</code>.\nFor example, if you are using a CSS loader in a bundler project, you might want to write (or generate) declaration files for those stylesheets:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">css</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">/* app.css */</span></div><div class='line'><span style=\"color: #800000\">.cookie-banner</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #E50000\">display</span><span style=\"color: #000000\">: </span><span style=\"color: #0451A5\">none</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// app.d.css.ts</span></div><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">css</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #001080\">cookieBanner</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">};</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">default</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">css</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// App.tsx</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">styles</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./app.css\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #001080\">styles</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">cookieBanner</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// string</span></div></code></div></pre>\n<p>By default, this import will raise an error to let you know that TypeScript doesn’t understand this file type and your runtime might not support importing it.\nBut if you’ve configured your runtime or bundler to handle it, you can suppress the error with the new <code>--allowArbitraryExtensions</code> compiler option.</p>\n<p>Note that historically, a similar effect has often been achievable by adding a declaration file named <code>app.css.d.ts</code> instead of <code>app.d.css.ts</code> - however, this just worked through Node’s <code>require</code> resolution rules for CommonJS.\nStrictly speaking, the former is interpreted as a declaration file for a JavaScript file named <code>app.css.js</code>.\nBecause relative files imports need to include extensions in Node’s ESM support, TypeScript would error on our example in an ESM file under <code>--moduleResolution node16</code> or <code>nodenext</code>.</p>\n<p>For more information, read up <a href=\"https://github.com/microsoft/TypeScript/issues/50133\">the proposalfor this feature</a> and <a href=\"https://github.com/microsoft/TypeScript/pull/51435\">its corresponding pull request</a>.</p>\n<h3 id=\"customconditions\" style=\"position:relative;\"><a href=\"#customconditions\" aria-label=\"customconditions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>customConditions</code></h3>\n<p><code>--customConditions</code> takes a list of additional <a href=\"https://nodejs.org/api/packages.html#nested-conditions\">conditions</a> that should succeed when TypeScript resolves from an <a href=\"https://nodejs.org/api/packages.html#exports\"><code>exports</code></a> or <a href=\"https://nodejs.org/api/packages.html#imports\"><code>imports</code></a> field of a <code>package.json</code>.\nThese conditions are added to whatever existing conditions a resolver will use by default.</p>\n<p>For example, when this field is set in a <code>tsconfig.json</code> as so:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"compilerOptions\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"target\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"es2022\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"moduleResolution\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"bundler\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"customConditions\"</span><span style=\"color: #000000\">: [</span><span style=\"color: #A31515\">\"my-condition\"</span><span style=\"color: #000000\">]</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Any time an <code>exports</code> or <code>imports</code> field is referenced in <code>package.json</code>, TypeScript will consider conditions called <code>my-condition</code>.</p>\n<p>So when importing from a package with the following <code>package.json</code></p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"exports\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\".\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #0451A5\">\"my-condition\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"./foo.mjs\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #0451A5\">\"node\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"./bar.mjs\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #0451A5\">\"import\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"./baz.mjs\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #0451A5\">\"require\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"./biz.mjs\"</span></div><div class='line'><span style=\"color: #000000\">        }</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>TypeScript will try to look for files corresponding to <code>foo.mjs</code>.</p>\n<p>This field is only valid under the <code>node16</code>, <code>nodenext</code>, and <code>bundler</code> options for <code>--moduleResolution</code></p>\n<h2 id=\"--verbatimmodulesyntax\" style=\"position:relative;\"><a href=\"#--verbatimmodulesyntax\" aria-label=\"  verbatimmodulesyntax permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>--verbatimModuleSyntax</code></h2>\n<p>By default, TypeScript does something called <em>import elision</em>.\nBasically, if you write something like</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">Car</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./car\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">drive</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">car</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Car</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>TypeScript detects that you’re only using an import for types and drops the import entirely.\nYour output JavaScript might look something like this:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">drive</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">car</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Most of the time this is good, because if <code>Car</code> isn’t a value that’s exported from <code>./car</code>, we’ll get a runtime error.</p>\n<p>But it does add a layer of complexity for certain edge cases.\nFor example, notice there’s no statement like <code>import \"./car\";</code> - the import was dropped entirely.\nThat actually makes a difference for modules that have side-effects or not.</p>\n<p>TypeScript’s emit strategy for JavaScript also has another few layers of complexity - import elision isn’t always just driven by how an import is used - it often consults how a value is declared as well.\nSo it’s not always clear whether code like the following</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">Car</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./car\"</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>should be preserved or dropped.\nIf <code>Car</code> is declared with something like a <code>class</code>, then it can be preserved in the resulting JavaScript file.\nBut if <code>Car</code> is only declared as a <code>type</code> alias or <code>interface</code>, then the JavaScript file shouldn’t export <code>Car</code> at all.</p>\n<p>While TypeScript might be able to make these emit decisions based on information from across files, not every compiler can.</p>\n<p>The <code>type</code> modifier on imports and exports helps with these situations a bit.\nWe can make it explicit whether an import or export is only being used for type analysis, and can be dropped entirely in JavaScript files by using the <code>type</code> modifier.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// This statement can be dropped entirely in JS output</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">*</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">car</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./car\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// The named import/export 'Car' can be dropped in JS output</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">Car</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./car\"</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">Car</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./car\"</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p><code>type</code> modifiers are not quite useful on their own - by default, module elision will still drop imports, and nothing forces you to make the distinction between <code>type</code> and plain imports and exports.\nSo TypeScript has the flag <code>--importsNotUsedAsValues</code> to make sure you use the <code>type</code> modifier, <code>--preserveValueImports</code> to prevent <em>some</em> module elision behavior, and <code>--isolatedModules</code> to make sure that your TypeScript code works across different compilers.\nUnfortunately, understanding the fine details of those 3 flags is hard, and there are still some edge cases with unexpected behavior.</p>\n<p>TypeScript 5.0 introduces a new option called <code>--verbatimModuleSyntax</code> to simplify the situation.\nThe rules are much simpler - any imports or exports without a <code>type</code> modifier are left around.\nAnything that uses the <code>type</code> modifier is dropped entirely.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// Erased away entirely.</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">type</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">A</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"a\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Rewritten to 'import { b } from \"bcd\";'</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">b</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">d</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"bcd\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Rewritten to 'import {} from \"xyz\";'</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">xyz</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"xyz\"</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>With this new option, what you see is what you get.</p>\n<p>That does have some implications when it comes to module interop though.\nUnder this flag, ECMAScript <code>import</code>s and <code>export</code>s won’t be rewritten to <code>require</code> calls when your settings or file extension implied a different module system.\nInstead, you’ll get an error.\nIf you need to emit code that uses <code>require</code> and <code>module.exports</code>, you’ll have to use TypeScript’s module syntax that predates ES2015:</p>\n<table>\n<thead>\n    <tr>\n        <th>Input TypeScript</th>\n        <th>Output JavaScript</th>\n    </tr>\n</thead>\n<tr>\n<td>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">foo</span><span style=\"color: #000000\"> = </span><span style=\"color: #AF00DB\">require</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"foo\"</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n</td>\n<td>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">foo</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">require</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"foo\"</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n</td>\n</tr>\n<tr>\n<td>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">foo</span><span style=\"color: #000000\">() {}</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">bar</span><span style=\"color: #000000\">() {}</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">baz</span><span style=\"color: #000000\">() {}</span></div><div class='line'></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> = {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">foo</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">bar</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">baz</span></div><div class='line'><span style=\"color: #000000\">};</span></div></code></div></pre>\n</td>\n<td>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">foo</span><span style=\"color: #000000\">() {}</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">bar</span><span style=\"color: #000000\">() {}</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">baz</span><span style=\"color: #000000\">() {}</span></div><div class='line'></div><div class='line'><span style=\"color: #1C6277\">module</span><span style=\"color: #000000\">.</span><span style=\"color: #1C6277\">exports</span><span style=\"color: #000000\"> = {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">foo</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">bar</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">baz</span></div><div class='line'><span style=\"color: #000000\">};</span></div></code></div></pre>\n</td>\n</tr>\n</table>\n<p>While this is a limitation, it does help make some issues more obvious.\nFor example, it’s very common to forget to set the <a href=\"https://nodejs.org/api/packages.html#type\"><code>type</code> field in <code>package.json</code></a> under <code>--module node16</code>.\nAs a result, developers would start writing CommonJS modules instead of an ES modules without realizing it, giving surprising lookup rules and JavaScript output.\nThis new flag ensures that you’re intentional about the file type you’re using because the syntax is intentionally different.</p>\n<p>Because <code>--verbatimModuleSyntax</code> provides a more consistent story than <code>--importsNotUsedAsValues</code> and <code>--preserveValueImports</code>, those two existing flags are being deprecated in its favor.</p>\n<p>For more details, read up on [the original pull request]<a href=\"https://github.com/microsoft/TypeScript/pull/52203\">https://github.com/microsoft/TypeScript/pull/52203</a> and <a href=\"https://github.com/microsoft/TypeScript/issues/51479\">its proposal issue</a>.</p>\n<h2 id=\"support-for-export-type-\" style=\"position:relative;\"><a href=\"#support-for-export-type-\" aria-label=\"support for export type  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Support for <code>export type *</code></h2>\n<p>When TypeScript 3.8 introduced type-only imports, the new syntax wasn’t allowed on <code>export * from \"module\"</code> or <code>export * as ns from \"module\"</code> re-exports. TypeScript 5.0 adds support for both of these forms:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// models/vehicles.ts</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Spaceship</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// models/index.ts</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">*</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">vehicles</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./vehicles\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// main.ts</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">vehicles</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./models\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">takeASpaceship</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">s</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">vehicles</span><span style=\"color: #000000\">.</span><span style=\"color: #1C6277\">Spaceship</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">// ✅ ok - `vehicles` only used in a type position</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">makeASpaceship</span><span style=\"color: #000000\">() {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">new</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">vehicles</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">Spaceship</span><span style=\"color: #000000\">();</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">//         ^^^^^^^^</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">// 'vehicles' cannot be used as a value because it was exported using 'export type'.</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/52217\">read more about the implementation here</a>.</p>\n<h2 id=\"satisfies-support-in-jsdoc\" style=\"position:relative;\"><a href=\"#satisfies-support-in-jsdoc\" aria-label=\"satisfies support in jsdoc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>@satisfies</code> Support in JSDoc</h2>\n<p>TypeScript 4.9 introduced the <code>satisfies</code> operator.\nIt made sure that the type of an expression was compatible, without affecting the type itself.\nFor example, let’s take the following code:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">interface</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">CompilerOptions</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">strict</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">boolean</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">outDir</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">interface</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">ConfigSettings</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">compilerOptions</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">CompilerOptions</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">extends</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">[];</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">myConfigSettings</span><span style=\"color: #000000\"> = {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">compilerOptions:</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">strict:</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">outDir:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">extends:</span><span style=\"color: #000000\"> [</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"@tsconfig/strictest/tsconfig.json\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"../../../tsconfig.base.json\"</span></div><div class='line'><span style=\"color: #000000\">    ],</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">} </span><span style=\"color: #001080\">satisfies</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">ConfigSettings</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>Here, TypeScript knows that <code>myConfigSettings.extends</code> was declared with an array - because while <code>satisfies</code> validated the type of our object, it didn’t bluntly change it to <code>CompilerOptions</code> and lose information.\nSo if we want to map over <code>extends</code>, that’s fine.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">resolveConfig</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">configPath</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">CompilerOptions</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">inheritedConfigs</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">myConfigSettings</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">extends</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">map</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">resolveConfig</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p>This was helpful for TypeScript users, but plenty of people use TypeScript to type-check their JavaScript code using JSDoc annotations.\nThat’s why TypeScript 5.0 is supporting a new JSDoc tag called <code>@satisfies</code> that does exactly the same thing.</p>\n<p><code>/** @satisfies */</code> can catch type mismatches:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// @ts-check</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@typedef</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">CompilerOptions</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{boolean}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[strict]</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[outDir]</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@satisfies</span><span style=\"color: #008000\"> {CompilerOptions}</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">myCompilerOptions</span><span style=\"color: #000000\"> = {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">outdir:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #008000\">//  ~~~~~~ oops! we meant outDir</span></div><div class='line'><span style=\"color: #000000\">};</span></div></code></div></pre>\n<p>But it will preserve the original type of our expressions, allowing us to use our values more precisely later on in our code.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// @ts-check</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@typedef</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">CompilerOptions</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{boolean}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[strict]</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[outDir]</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@typedef</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">ConfigSettings</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{CompilerOptions}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[compilerOptions]</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@prop</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string | string[]}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[extends]</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@satisfies</span><span style=\"color: #008000\"> {ConfigSettings}</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">myConfigSettings</span><span style=\"color: #000000\"> = {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">compilerOptions:</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">strict:</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">outDir:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">extends:</span><span style=\"color: #000000\"> [</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"@tsconfig/strictest/tsconfig.json\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"../../../tsconfig.base.json\"</span></div><div class='line'><span style=\"color: #000000\">    ],</span></div><div class='line'><span style=\"color: #000000\">};</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">inheritedConfigs</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">myConfigSettings</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">extends</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">map</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">resolveConfig</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p><code>/** @satisfies */</code> can also be used inline on any parenthesized expression.\nWe could have written <code>myCompilerOptions</code> like this:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">myConfigSettings</span><span style=\"color: #000000\"> = </span><span style=\"color: #008000\">/** </span><span style=\"color: #0000FF\">@satisfies</span><span style=\"color: #008000\"> {ConfigSettings} */</span><span style=\"color: #000000\"> ({</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">compilerOptions:</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">strict:</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">outDir:</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"../lib\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">extends:</span><span style=\"color: #000000\"> [</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"@tsconfig/strictest/tsconfig.json\"</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #A31515\">\"../../../tsconfig.base.json\"</span></div><div class='line'><span style=\"color: #000000\">    ],</span></div><div class='line'><span style=\"color: #000000\">});</span></div></code></div></pre>\n<p>Why?\nWell, it usually makes more sense when you’re deeper in some other code, like a function call.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #795E26\">compileCode</span><span style=\"color: #000000\">(</span><span style=\"color: #008000\">/** </span><span style=\"color: #0000FF\">@satisfies</span><span style=\"color: #008000\"> {CompilerOptions} */</span><span style=\"color: #000000\"> ({</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}));</span></div></code></div></pre>\n<p><a href=\"https://github.com/microsoft/TypeScript/pull/51753\">This feature</a> was provided thanks to <a href=\"https://github.com/a-tarasyuk\">Oleksandr Tarasiuk</a>!</p>\n<h2 id=\"overload-support-in-jsdoc\" style=\"position:relative;\"><a href=\"#overload-support-in-jsdoc\" aria-label=\"overload support in jsdoc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>@overload</code> Support in JSDoc</h2>\n<p>In TypeScript, you can specify overloads for a function.\nOverloads give us a way to say that a function can be called with different arguments, and possibly return different results.\nThey can restrict how callers can actually use our functions, and refine what results they’ll get back.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// Our overloads:</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">str</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">num</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">maxFractionDigits</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Our implementation:</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">maximumFractionDigits</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #0000FF\">typeof</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> === </span><span style=\"color: #A31515\">\"number\"</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">formatter</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">Intl</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">NumberFormat</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"en-US\"</span><span style=\"color: #000000\">, {</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #001080\">maximumFractionDigits</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        });</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">formatter</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">format</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Here, we’ve said that <code>printValue</code> takes either a <code>string</code> or a <code>number</code> as its first argument.\nIf it takes a <code>number</code>, it can take a second argument to determine how many fractional digits we can print.</p>\n<p>TypeScript 5.0 now allows JSDoc to declare overloads with a new <code>@overload</code> tag.\nEach JSDoc comment with an <code>@overload</code> tag is treated as a distinct overload for the following function declaration.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">js</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// @ts-check</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@overload</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@param</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">value</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@return</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{void}</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@overload</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@param</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{number}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">value</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@param</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{number}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[maximumFractionDigits]</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@return</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{void}</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@param</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string | number}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">value</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@param</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{number}</span><span style=\"color: #008000\"> </span><span style=\"color: #001080\">[maximumFractionDigits]</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">maximumFractionDigits</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #0000FF\">typeof</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> === </span><span style=\"color: #A31515\">\"number\"</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">formatter</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">Intl</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">NumberFormat</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"en-US\"</span><span style=\"color: #000000\">, {</span></div><div class='line'><span style=\"color: #000000\">            </span><span style=\"color: #001080\">maximumFractionDigits</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">        });</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">formatter</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">format</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Now regardless of whether we’re writing in a TypeScript or JavaScript file, TypeScript can let us know if we’ve called our functions incorrectly.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// all allowed</span></div><div class='line'><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"hello!\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #098658\">123.45</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #098658\">123.45</span><span style=\"color: #000000\">, </span><span style=\"color: #098658\">2</span><span style=\"color: #000000\">);</span></div><div class='line'></div><div class='line'><span style=\"color: #795E26\">printValue</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"hello!\"</span><span style=\"color: #000000\">, </span><span style=\"color: #098658\">123</span><span style=\"color: #000000\">); </span><span style=\"color: #008000\">// error!</span></div></code></div></pre>\n<p>This new tag <a href=\"https://github.com/microsoft/TypeScript/pull/51234\">was implemented</a> thanks to <a href=\"https://github.com/apendua\">Tomasz Lenarcik</a>.</p>\n<h2 id=\"passing-emit-specific-flags-under---build\" style=\"position:relative;\"><a href=\"#passing-emit-specific-flags-under---build\" aria-label=\"passing emit specific flags under   build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Passing Emit-Specific Flags Under <code>--build</code></h2>\n<p>TypeScript now allows the following flags to be passed under <code>--build</code> mode</p>\n<ul>\n<li><code>--declaration</code></li>\n<li><code>--emitDeclarationOnly</code></li>\n<li><code>--declarationMap</code></li>\n<li><code>--sourceMap</code></li>\n<li><code>--inlineSourceMap</code></li>\n</ul>\n<p>This makes it way easier to customize certain parts of a build where you might have different development and production builds.</p>\n<p>For example, a development build of a library might not need to produce declaration files, but a production build would.\nA project can configure declaration emit to be off by default and simply be built with</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">tsc --build -p ./my-project-dir</span></div></code></div></pre>\n<p>Once you’re done iterating in the inner loop, a “production” build can just pass the <code>--declaration</code> flag.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">tsc --build -p ./my-project-dir --declaration</span></div></code></div></pre>\n<p><a href=\"https://github.com/microsoft/TypeScript/pull/51241\">More information on this change is available here</a>.</p>\n<h2 id=\"case-insensitive-import-sorting-in-editors\" style=\"position:relative;\"><a href=\"#case-insensitive-import-sorting-in-editors\" aria-label=\"case insensitive import sorting in editors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Case-Insensitive Import Sorting in Editors</h2>\n<p>In editors like Visual Studio and VS Code, TypeScript powers the experience for organizing and sorting imports and exports.\nOften though, there can be different interpretations of when a list is “sorted”.</p>\n<p>For example, is the following import list sorted?</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">Toggle</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">freeze</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">toBoolean</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">} </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"./utils\"</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>The answer might surprisingly be “it depends”.\nIf we <em>don’t</em> care about case-sensitivity, then this list is clearly not sorted.\nThe letter <code>f</code> comes before both <code>t</code> and <code>T</code>.</p>\n<p>But in most programming languages, sorting defaults to comparing the byte values of strings.\nThe way JavaScript compares strings means that <code>\"Toggle\"</code> always comes before <code>\"freeze\"</code> because according to the <a href=\"https://en.wikipedia.org/wiki/ASCII\">ASCII character encoding</a>, uppercase letters come before lowercase.\nSo from that perspective, the import list is sorted.</p>\n<p>TypeScript previously considered the import list to be sorted because it was doing a basic case-sensitive sort.\nThis could be a point of frustration for developers who preferred a case-<em>insensitive</em> ordering, or who used tools like ESLint which require to case-insensitive ordering by default.</p>\n<p>TypeScript now detects case sensitivity by default.\nThis means that TypeScript and tools like ESLint typically won’t “fight” each other over how to best sort imports.</p>\n<p>Our team has also been experimenting <a href=\"https://github.com/microsoft/TypeScript/pull/52115\">with further sorting strategies which you can read about here</a>.\nThese options may eventually be configurable by editors.\nFor now, they are still unstable and experimental, and you can opt into them in VS Code today by using the <code>typescript.unstable</code> entry in your JSON options.\nBelow are all of the options you can try out (set to their defaults):</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"typescript.unstable\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Should sorting be case-sensitive? Can be:</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - true</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - false</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"auto\" (auto-detect)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsIgnoreCase\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"auto\"</span><span style=\"color: #000000\">,</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Should sorting be \"ordinal\" and use code points or consider Unicode rules? Can be:</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"ordinal\"</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"unicode\"</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsCollation\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"ordinal\"</span><span style=\"color: #000000\">,</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Under `\"organizeImportsCollation\": \"unicode\"`,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// what is the current locale? Can be:</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - [any other locale code]</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"auto\" (use the editor's locale)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsLocale\"</span><span style=\"color: #000000\">: </span><span style=\"color: #A31515\">\"en\"</span><span style=\"color: #000000\">,</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Under `\"organizeImportsCollation\": \"unicode\"`,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// should upper-case letters or lower-case letters come first? Can be:</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - false (locale-specific)</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"upper\"</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - \"lower\"</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsCaseFirst\"</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">false</span><span style=\"color: #000000\">,</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Under `\"organizeImportsCollation\": \"unicode\"`,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// do runs of numbers get compared numerically (i.e. \"a1\" &lt; \"a2\" &lt; \"a100\")? Can be:</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - true</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - false</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsNumericCollation\"</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\">,</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// Under `\"organizeImportsCollation\": \"unicode\"`,</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// do letters with accent marks/diacritics get sorted distinctly</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// from their \"base\" letter (i.e. is é different from e)? Can be</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - true</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// - false</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #0451A5\">\"organizeImportsAccentCollation\"</span><span style=\"color: #000000\">: </span><span style=\"color: #0000FF\">true</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"javascript.unstable\"</span><span style=\"color: #000000\">: {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #008000\">// same options valid here...</span></div><div class='line'><span style=\"color: #000000\">    },</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>You can read more details on <a href=\"https://github.com/microsoft/TypeScript/pull/51733\">the original work for auto-detecting and specifying case-insensitivity</a>, followed by the <a href=\"https://github.com/microsoft/TypeScript/pull/52115\">the broader set of options</a>.</p>\n<h2 id=\"exhaustive-switchcase-completions\" style=\"position:relative;\"><a href=\"#exhaustive-switchcase-completions\" aria-label=\"exhaustive switchcase completions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exhaustive <code>switch</code>/<code>case</code> Completions</h2>\n<p>When writing a <code>switch</code> statement, TypeScript now detects when the value being checked has a literal type.\nIf so, it will offer a completion that scaffolds out each uncovered <code>case</code>.</p>\n<p><img src=\"https://devblogs.microsoft.com/typescript/wp-content/uploads/sites/11/2023/01/switchCaseSnippets-5-0_1.gif\" alt=\"A set of case statements generated through auto-completion based on literal types.\"></p>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/50996\">see specifics of the implementation on GitHub</a>.</p>\n<h2 id=\"speed-memory-and-package-size-optimizations\" style=\"position:relative;\"><a href=\"#speed-memory-and-package-size-optimizations\" aria-label=\"speed memory and package size optimizations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Speed, Memory, and Package Size Optimizations</h2>\n<p>TypeScript 5.0 contains lots of powerful changes across our code structure, our data structures, and algorithmic implementations.\nWhat these all mean is that your entire experience should be faster - not just running TypeScript, but even installing it.</p>\n<p>Here are a few interesting wins in speed and size that we’ve been able to capture relative to TypeScript 4.9.</p>\n<table>\n<thead>\n<tr>\n<th>Scenario</th>\n<th>Time or Size Relative to TS 4.9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>material-ui build time</td>\n<td>89%</td>\n</tr>\n<tr>\n<td>TypeScript Compiler startup time</td>\n<td>89%</td>\n</tr>\n<tr>\n<td>Playwright build time</td>\n<td>88%</td>\n</tr>\n<tr>\n<td>TypeScript Compiler self-build time</td>\n<td>87%</td>\n</tr>\n<tr>\n<td>Outlook Web build time</td>\n<td>82%</td>\n</tr>\n<tr>\n<td>VS Code build time</td>\n<td>80%</td>\n</tr>\n<tr>\n<td>typescript npm Package Size</td>\n<td>59%</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://devblogs.microsoft.com/typescript/wp-content/uploads/sites/11/2023/03/speed-and-size-5-0-rc.png?1\" alt=\"Chart of build/run times and package size of TypeScript 5.0 relative to TypeScript 4.9: material-ui docs build time: 89%; Playwright build time: 88%; tsc startup time: 87%; tsc build time: 87%; Outlook Web build time: 82%; VS Code build time: 80%; typescript Package Size: 59%\"></p>\n<p>How?\nThere are a few notable improvements we’d like give more details on in the future.\nBut we won’t make you wait for that blog post.</p>\n<p>First off, we recently migrated TypeScript from namespaces to modules, allowing us to leverage modern build tooling that can perform optimizations like scope hoisting.\nUsing this tooling, revisiting our packaging strategy, and removing some deprecated code has shaved off about 26.4 MB from TypeScript 4.9’s 63.8 MB package size.\nIt also brought us a notable speed-up through direct function calls.</p>\n<p>TypeScript also added more uniformity to internal object types within the compiler, and also slimmed the data stored on some of these object types as well.\nThis reduced polymorphic and megamorphic use sites, while offsetting most of the necessary memory consumption that was necessary for uniform shapes.</p>\n<p>We’ve also performed some caching when serializing information to strings.\nType display, which can happen as part of error reporting, declaration emit, code completions, and more, can end up being fairly expensive.\nTypeScript now caches some commonly used machinery to reuse across these operations.</p>\n<p>Another notable change we made that improved our parser was leveraging <code>var</code> to occasionally side-step the cost of using <code>let</code> and <code>const</code> across closures.\nThis improved some of our parsing performance.</p>\n<p>Overall, we expect most codebases should see speed improvements from TypeScript 5.0, and have consistently been able to reproduce wins between 10% to 20%.\nOf course this will depend on hardware and codebase characteristics, but we encourage you to try it out on your codebase today!</p>\n<p>For more information, see some of our notable optimizations:</p>\n<ul>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/51387\">Migrate to Modules</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/51682\"><code>Node</code> Monomorphization</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/51880\"><code>Symbol</code> Monomorphization</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/52170\"><code>Identifier</code> Size Reduction</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/52382\"><code>Printer</code> Caching</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/issues/52924\">Limited Usage of <code>var</code></a></li>\n</ul>\n<h2 id=\"breaking-changes-and-deprecations\" style=\"position:relative;\"><a href=\"#breaking-changes-and-deprecations\" aria-label=\"breaking changes and deprecations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Breaking Changes and Deprecations</h2>\n<h3 id=\"runtime-requirements\" style=\"position:relative;\"><a href=\"#runtime-requirements\" aria-label=\"runtime requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Runtime Requirements</h3>\n<p>TypeScript now targets ECMAScript 2018.\nFor Node users, that means a minimum version requirement of at least Node.js 10 and later.</p>\n<h3 id=\"libdts-changes\" style=\"position:relative;\"><a href=\"#libdts-changes\" aria-label=\"libdts changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>lib.d.ts</code> Changes</h3>\n<p>Changes to how types for the DOM are generated might have an impact on existing code.\nNotably, certain properties have been converted from <code>number</code> to numeric literal types, and properties and methods for cut, copy, and paste event handling have been moved across interfaces.</p>\n<h3 id=\"api-breaking-changes\" style=\"position:relative;\"><a href=\"#api-breaking-changes\" aria-label=\"api breaking changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Breaking Changes</h3>\n<p>In TypeScript 5.0, we moved to modules, removed some unnecessary interfaces, and made some correctness improvements.\nFor more details on what’s changed, see our <a href=\"https://github.com/microsoft/TypeScript/wiki/API-Breaking-Changes\">API Breaking Changes</a> page.</p>\n<h3 id=\"forbidden-implicit-coercions-in-relational-operators\" style=\"position:relative;\"><a href=\"#forbidden-implicit-coercions-in-relational-operators\" aria-label=\"forbidden implicit coercions in relational operators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Forbidden Implicit Coercions in Relational Operators</h3>\n<p>Certain operations in TypeScript will already warn you if you write code which may cause an implicit string-to-number coercion:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">func</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\"> * </span><span style=\"color: #098658\">4</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// Error, possible implicit coercion</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>In 5.0, this will also be applied to the relational operators <code>></code>, <code>&#x3C;</code>, <code>&#x3C;=</code>, and <code>>=</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">func</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\"> &gt; </span><span style=\"color: #098658\">4</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// Now also an error</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>To allow this if desired, you can explicitly coerce the operand to a <code>number</code> using <code>+</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">func</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> +</span><span style=\"color: #001080\">ns</span><span style=\"color: #000000\"> &gt; </span><span style=\"color: #098658\">4</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// OK</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This <a href=\"https://github.com/microsoft/TypeScript/pull/52048\">correctness improvement</a> was contributed courtesy of <a href=\"https://github.com/Andarist\">Mateusz Burzyński</a>.</p>\n<h3 id=\"enum-overhaul\" style=\"position:relative;\"><a href=\"#enum-overhaul\" aria-label=\"enum overhaul permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Enum Overhaul</h3>\n<p>TypeScript has had some long-standing oddities around <code>enum</code>s ever since its first release.\nIn 5.0, we’re cleaning up some of these problems, as well as reducing the concept count needed to understand the various kinds of <code>enum</code>s you can declare.</p>\n<p>There are two main new errors you might see as part of this.\nThe first is that assigning an out-of-domain literal to an <code>enum</code> type will now error as one might expect:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">SomeEvenDigit</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Zero</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">0</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Two</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">2</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">Four</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">4</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Now correctly an error</span></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">m</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">SomeEvenDigit</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">1</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>The other is that declaration of certain kinds of indirected mixed string/number <code>enum</code> forms would, incorrectly, create an all-number <code>enum</code>:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Letters</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">A</span><span style=\"color: #000000\"> = </span><span style=\"color: #A31515\">\"a\"</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'><span style=\"color: #0000FF\">enum</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Numbers</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">one</span><span style=\"color: #000000\"> = </span><span style=\"color: #098658\">1</span><span style=\"color: #000000\">,</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0070C1\">two</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">Letters</span><span style=\"color: #000000\">.</span><span style=\"color: #0070C1\">A</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Now correctly an error</span></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">t</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">Numbers</span><span style=\"color: #000000\">.</span><span style=\"color: #001080\">two</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/50528\">see more details in relevant change</a>.</p>\n<h3 id=\"more-accurate-type-checking-for-parameter-decorators-in-constructors-under---experimentaldecorators\" style=\"position:relative;\"><a href=\"#more-accurate-type-checking-for-parameter-decorators-in-constructors-under---experimentaldecorators\" aria-label=\"more accurate type checking for parameter decorators in constructors under   experimentaldecorators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>More Accurate Type-Checking for Parameter Decorators in Constructors Under <code>--experimentalDecorators</code></h3>\n<p>TypeScript 5.0 makes type-checking more accurate for decorators under <code>--experimentalDecorators</code>.\nOne place where this becomes apparent is when using a decorator on a constructor parameter.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">inject</span><span style=\"color: #000000\">:</span></div><div class='line'><span style=\"color: #000000\">  (</span><span style=\"color: #001080\">entity</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">) </span><span style=\"color: #0000FF\">=&gt;</span></div><div class='line'><span style=\"color: #000000\">    (</span><span style=\"color: #001080\">target</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">object</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">key</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">symbol</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">index</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">) </span><span style=\"color: #0000FF\">=&gt;</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">void</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Foo</span><span style=\"color: #000000\"> {}</span></div><div class='line'></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">C</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0000FF\">constructor</span><span style=\"color: #000000\">(@</span><span style=\"color: #795E26\">inject</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">Foo</span><span style=\"color: #000000\">) </span><span style=\"color: #0000FF\">private</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">any</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This call will fail because <code>key</code> expects a <code>string | symbol</code>, but constructor parameters receive a key of <code>undefined</code>.\nThe correct fix is to change the type of <code>key</code> within <code>inject</code>.\nA reasonable workaround if you’re using a library that can’t be upgraded is is to wrap <code>inject</code> in a more type-safe decorator function, and use a type-assertion on <code>key</code>.</p>\n<p>For more details, <a href=\"https://github.com/microsoft/TypeScript/issues/52435\">see this issue</a>.</p>\n<h3 id=\"deprecations-and-default-changes\" style=\"position:relative;\"><a href=\"#deprecations-and-default-changes\" aria-label=\"deprecations and default changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deprecations and Default Changes</h3>\n<p>In TypeScript 5.0, we’ve deprecated the following settings and setting values:</p>\n<ul>\n<li><code>--target: ES3</code></li>\n<li><code>--out</code></li>\n<li><code>--noImplicitUseStrict</code></li>\n<li><code>--keyofStringsOnly</code></li>\n<li><code>--suppressExcessPropertyErrors</code></li>\n<li><code>--suppressImplicitAnyIndexErrors</code></li>\n<li><code>--noStrictGenericChecks</code></li>\n<li><code>--charset</code></li>\n<li><code>--importsNotUsedAsValues</code></li>\n<li><code>--preserveValueImports</code></li>\n<li><code>prepend</code> in project references</li>\n</ul>\n<p>These configurations will continue to be allowed until TypeScript 5.5, at which point they will be removed entirely, however, you will receive a warning if you are using these settings.\nIn TypeScript 5.0, as well as future releases 5.1, 5.2, 5.3, and 5.4, you can specify <code>\"ignoreDeprecations\": \"5.0\"</code> to silence those warnings.\nWe’ll also shortly be releasing a 4.9 patch to allow specifying <code>ignoreDeprecations</code> to allow for smoother upgrades.\nAside from deprecations, we’ve changed some settings to better improve cross-platform behavior in TypeScript.</p>\n<p><code>--newLine</code>, which controls the line endings emitted in JavaScript files, used to be inferred based on the current operating system if not specified.\nWe think builds should be as deterministic as possible, and Windows Notepad supports line-feed line endings now, so the new default setting is <code>LF</code>.\nThe old OS-specific inference behavior is no longer available.</p>\n<p><code>--forceConsistentCasingInFileNames</code>, which ensured that all references to the same file name in a project agreed in casing, now defaults to <code>true</code>.\nThis can help catch differences issues with code written on case-insensitive file systems.</p>\n<p>You can leave feedback and view more information on the <a href=\"https://github.com/microsoft/TypeScript/issues/51909\">tracking issue for 5.0 deprecations</a></p>","headings":[{"value":"Decorators","depth":2},{"value":"Differences with Experimental Legacy Decorators","depth":3},{"value":"Writing Well-Typed Decorators","depth":3},{"value":"const Type Parameters","depth":2},{"value":"Supporting Multiple Configuration Files in extends","depth":2},{"value":"All enums Are Union enums","depth":2},{"value":"--moduleResolution bundler","depth":2},{"value":"Resolution Customization Flags","depth":2},{"value":"allowImportingTsExtensions","depth":3},{"value":"resolvePackageJsonExports","depth":3},{"value":"resolvePackageJsonImports","depth":3},{"value":"allowArbitraryExtensions","depth":3},{"value":"customConditions","depth":3},{"value":"--verbatimModuleSyntax","depth":2},{"value":"Support for export type *","depth":2},{"value":"@satisfies Support in JSDoc","depth":2},{"value":"@overload Support in JSDoc","depth":2},{"value":"Passing Emit-Specific Flags Under --build","depth":2},{"value":"Case-Insensitive Import Sorting in Editors","depth":2},{"value":"Exhaustive switch/case Completions","depth":2},{"value":"Speed, Memory, and Package Size Optimizations","depth":2},{"value":"Breaking Changes and Deprecations","depth":2},{"value":"Runtime Requirements","depth":3},{"value":"lib.d.ts Changes","depth":3},{"value":"API Breaking Changes","depth":3},{"value":"Forbidden Implicit Coercions in Relational Operators","depth":3},{"value":"Enum Overhaul","depth":3},{"value":"More Accurate Type-Checking for Parameter Decorators in Constructors Under --experimentalDecorators","depth":3},{"value":"Deprecations and Default Changes","depth":3}],"frontmatter":{"permalink":"/docs/handbook/release-notes/typescript-5-0.html","title":"TypeScript 5.0","disable_toc":null,"handbook":null,"oneline":"TypeScript 5.0 Release Notes","preamble":null,"deprecated_by":null,"deprecation_redirects":null,"experimental":null}},"prev":null,"next":null},"pageContext":{"id":"5-typescript-5.0","slug":"/docs/handbook/release-notes/typescript-5-0.html","repoPath":"/packages/documentation/copy/en/release-notes/TypeScript 5.0.md","lang":"en","modifiedTime":"2024-10-21T12:33:11.313Z"}},"staticQueryHashes":[]}