{"componentChunkName":"component---src-templates-play-example-tsx","path":"/ja/play/3-8/syntax-and-messaging/private-class-fields.ts.html","result":{"pageContext":{"name":"Private Class Fields","title":"Private Class Fields","lang":"ja","html":" 3.8ではprivateフィールドが追加されました。これはサブクラスを含め、フィールドを定義しているクラスの外側からは\n アクセスできないようにするクラスフィールドの宣言方法です。\n\n 例えば、以下のPersonクラスでは、どのクラスのインスタンスからも\n firstName、lastName、あるいはprefixを読み取ることはできません。\n\n<code><pre>\nclass Person {\n  #firstName: string;\n  #lastName: string;\n  #prefix: string;\n\n  constructor(firstName: string, lastName: string, prefix: string) {\n    this.#firstName = firstName;\n    this.#lastName = lastName;\n    this.#prefix = prefix;\n  }\n\n  greet() {\n    // アイスランドでは[prefix] [lastname]の代わりにフルネームを用いることが好ましいです\n    // https://www.w3.org/International/questions/qa-personal-names#patronymic\n    if (navigator.languages[0] === \"is\") {\n      console.log(`Góðan dag, ${this.#firstName} ${this.#lastName}`);\n    } else {\n      console.log(`Hello, ${this.#prefix} ${this.#lastName}`);\n    }\n  }\n}\n\nlet jeremy = new Person(\"Jeremy\", \"Bearimy\", \"Mr\");\n\n// このクラスの外からは、privateフィールドにアクセスできません:\n\n// 例えば、これは動作しません:\nconsole.log(jeremy.#lastName);\n\n// これも動作しません:\nconsole.log(\"Person's last name:\", jeremy[\"#lastName\"]);\n\n</pre></code>\n// よくある質問は、\"なぜクラスフィールドの'private'キーワードよりもこちらを使うのか？\"\n というものです。\n では、3.8以前のTypeScriptでのふるまいと比較してみましょう。\n\n<code><pre>\nclass Dog {\n  private _name: string;\n  constructor(name: string) {\n    this._name = name;\n  }\n}\n\nlet oby = new Dog(\"Oby\");\n// ドット記法でのアクセスはできません\noby._name = \"Spot\";\n// しかし、TypeScriptでは抜け道としてブラケット記法を使えてしまいます\noby[\"_name\"] = \"Cherny\";\n\n</pre></code>\n// privateキーワードのTypeScriptの参照は型レベルでしか存在しないので\n 型レベルまでしか信用できません。\n 一方で、privateフィールドは近いうちにJavaScript言語の一部となるので\n そうなればコードの可視性をより強く保証できるようになります。\n\n TypeScriptの`private`フィールドキーワードを廃止する予定はないので、\n 既存のコードは引き続き動作します。今では、`private`キーワードの代わりに\n よりJavaScriptに近いコードを書くこともできるようになりました。\n\n クラスフィールドについての詳細はtc39の提案\n https://github.com/tc39/proposal-class-fields/\n とベータ版リリースノートを参照してください:\n https://devblogs.microsoft.com/typescript/announcing-typescript-3-8-beta/#ecmascript-private-fields\n","redirectHref":"ja/play/?ts=3.8.3#example/private-class-fields"}},"staticQueryHashes":[]}